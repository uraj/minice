#ifndef __MINIEMU_VMEMPAGE_H__
#define __MINIEMU_VMEMPAGE_H__

#define VMEMPAGE_SIZE 0x1000
#define L1PTSIZE 0x1000
#define L2PTSIZE 0x1000
#define VMEMSPACE_SIZE 0x100000

typedef void * page_addr;

extern page_addr guest_mem_manager[VMEMSPACE_SIZE];

/* allocate a block of memory with the size of VMEMPAGE in the host */
extern void * allocate_page();

/* check whether vaddr is allocated */
extern int page_allocated(int vaddr);

/* free the allocated memory containing vaddr in the host
 * (auto alignment) */
extern void free_page(int vaddr);

#endif
